<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.sirbox.dao.DeptMapper" >
  
  <select id="getAllDept" resultType="cn.sirbox.model.Dept">
    SELECT * FROM dept where status='government'
  </select>
  
  <update id="updateDeptById" parameterType="Integer">
  	update dept set pid=#{pid} where did=#{did}
  </update>
  
  <delete id="deleteDeptById" parameterType="Integer">
    delete from dept where did=#{did}
  </delete>
  <insert id="addDept" parameterType="cn.sirbox.model.Dept">
  insert into dept values(null,#{dept.dname},#{dept.pid})
  </insert>
  
  <update id="updateDept" parameterType="cn.sirbox.model.Dept">
  update dept set dname=#{dept.dname} where did=#{dept.did}
  </update>
  <select id="getDeptByName" parameterType="String" resultType="cn.sirbox.model.Dept">
  select * from dept where dname=#{dname}
  </select>
  
</mapper>