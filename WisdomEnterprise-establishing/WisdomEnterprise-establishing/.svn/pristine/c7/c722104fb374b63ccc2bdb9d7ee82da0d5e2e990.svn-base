<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.sirbox.dao.PartMapper">
  
  <select id="getAllPart" resultType="cn.sirbox.model.Part">
  select * from part 
  </select>
  <select id="getPartByName" parameterType="String" resultType="cn.sirbox.model.Part">
  select * from part where pname=#{pname}
  </select>
  <select id="getPartById" parameterType="Integer" resultType="cn.sirbox.model.Part">
  select * from part where pid=#{pid}
  </select>
  <insert id="addPart" parameterType="cn.sirbox.model.Part">
  insert into part values(#{part.pid},#{part.pname})
  </insert>
  <insert id="addPartRole" parameterType="String">
  insert into part_role values(#{pname},#{rname})
  </insert>
  <select id="getRole" parameterType="String" resultType="String">
  select rname from part_role where pname=#{pname}
  </select>
  <delete id="deleteRole" parameterType="String">
  delete from part_role where pname=#{pname}
  </delete>
  
  <update id="updataPart" parameterType="cn.sirbox.model.Part">
  update part set pname=#{part.pname} where pid=#{part.pid}
  </update>
  
   <insert id="insertUserUPart" parameterType="Integer">
  insert into user_part values(#{uid},#{pid})
  </insert>
</mapper>